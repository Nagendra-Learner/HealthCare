<div class="container-fluid vh-100 d-flex justify-content-center align-items-center bg-light">
  <div class="row w-100 shadow-lg rounded overflow-hidden">
    
    <div class="col-md-6 bg-white p-5 d-flex flex-column justify-content-center">
      <h3 class="h4 text-center fw-bold mb-2">HEALTHCARE APPOINTMENT MANAGEMENT SYSTEM</h3>

          <form [formGroup]="itemForm" (ngSubmit)="onSubmit()">
        
            <div class="mb-3">
              <label for="username" class="form-label"><span style="color: red;">*</span> Username</label>
              <input type="text" class="form-control" [ngClass]="{'is-invalid': f['username'].invalid && f['username'].touched}" id="username" formControlName="username">
              <div *ngIf="f['username']?.invalid && f['username']?.touched" class="invalid-feedback">
                <small *ngIf="f['username']?.errors?.['required']">Username is required.</small>
                <small *ngIf="f['username']?.errors?.['pattern']">Username should not contain special characters.</small>
              </div>
            </div>

            
            <div class="mb-3">
              <label for="email" class="form-label"><span style="color: red;">*</span> Email address</label>
              <input type="email" class="form-control" [ngClass]="{'is-invalid': f['email'].invalid && f['email'].touched}" id="email" formControlName="email">
              <div *ngIf="f['email']?.invalid && f['email']?.touched" class="invalid-feedback">
                <small *ngIf="f['email']?.errors?.['required']">Email is required.</small>
                <small *ngIf="f['email']?.errors?.['email']">Email must be valid.</small>
              </div>
            </div>

           
            <div class="mb-3">
              <label for="password" class="form-label"><span style="color: red;">*</span> Password</label>
              <input type="password" class="form-control" [ngClass]="{'is-invalid': f['password'].invalid && f['password'].touched}" id="password" formControlName="password">
              <div *ngIf="f['password']?.invalid && f['password']?.touched" class="invalid-feedback">
                <small *ngIf="f['password']?.errors?.['required']">Password is required.</small>
                <small *ngIf="f['password']?.errors?.['pattern']">Password must contain at least one uppercase, one lowercase, one digit, one special character, and be at least 8 characters long.</small>
              </div>
            </div>

           
            <div class="mb-3">
              <label for = "role" class="form-label"><span style="color: red;">*</span> Role</label>
              <select class = "form-select" [ngClass]="{'is-invalid': f['role'].invalid && f['role'].touched}" formControlName="role" id="role">
                <option value="" disabled>Please Choose a Role</option>
                <option value="DOCTOR">Doctor</option>
                <option value="PATIENT">Patient</option>
                <option value="RECEPTIONIST">Receptionist</option>
              </select>
              <div *ngIf="f['role']?.invalid && f['role']?.touched" class="invalid-feedback">
                <small *ngIf="f['role']?.errors?.['required']">Please choose a role.</small>
              </div>
            </div>

          
            <div class="mb-3" *ngIf="itemForm.get('role')?.value === 'DOCTOR'">
              <label for="specialty" class="form-label"><span style="color: red;">*</span> Specialty</label>
              <input type="text" class="form-control" [ngClass]="{'is-invalid': f['specialty'].invalid && f['specialty'].touched}" id="specialty" formControlName="specialty">
              <div *ngIf = "f['specialty']?.invalid && f['specialty']?.touched" class="invalid-feedback">
                <small *ngIf = "f['specialty']?.errors?.['required']">Specialty is required for doctors.</small>
              </div>
            </div>

           
            <div class="mb-3" *ngIf="itemForm.get('role')?.value === 'DOCTOR'">
              <label for="availability" class="form-label"><span style="color: red;">*</span> Availability</label>
              <select type="text" class="form-control" [ngClass]="{'is-invalid': f['availability'].invalid && f['availability'].touched}" id="availability" formControlName="availability">
                <option value = "" disabled>Please select availability</option>
                <option value = "Yes">Yes</option>
                <option value = "No">No</option>
              </select>
              <div *ngIf = "f['availability']?.invalid && f['availability']?.touched" class="invalid-feedback">
                <small *ngIf="f['availability']?.errors?.['required']">Availability is required for doctors.</small>
              </div>
            </div>

            <button type="submit" class="btn btn-dark w-100 mb-3" [disabled] = "!itemForm.valid">Submit</button>

          
            <div class="text-center">
              <a routerLink = "/login">Go to Login</a>
            </div>

           
            <div *ngIf = "successMessage" class ="alert alert-success mt-3">
              {{ successMessage }}
            </div>

            
            <div *ngIf = "errorMessage" class="alert alert-danger mt-3">
              {{ errorMessage }}
            </div>
          </form>


        </div>

 <div class="col-md-6 p-0" style = "background: url('assets/login.png') center/cover no-repeat; height: 100vh;"></div>

      </div>
    </div>
 
