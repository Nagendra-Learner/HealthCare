
<div class="container mt-4">
  <h3 class="mb-3">Add Medical Record</h3>
  <form (ngSubmit) = "onSubmit()" [formGroup] = "medicalRecordForm">

    <!-- Patient ID -->
    <div class="mb-3">
      <label for="patientId" class="form-label"><span style="color:red">* </span>Patient ID</label>
      <input type="number" id="patientId" class="form-control" formControlName="patientId" readonly>
    </div>

    <!-- Doctor ID -->
    <div class="mb-3">
      <label for="doctorId" class="form-label"><span style="color:red">* </span>Doctor ID</label>
      <input type="number" id="doctorId" class="form-control" formControlName="doctorId" readonly>
    </div>

    <!-- Appointment ID -->
    <div class="mb-3">
      <label for="appointmentId" class="form-label"><span style="color:red">* </span>Appointment ID</label>
      <input type="number" id="appointmentId" class="form-control" formControlName="appointmentId" readonly>
    </div>

    <!-- Diagnosis -->
    <div class="mb-3">
      <label for="diagnosis" class="form-label"><span style="color:red">* </span> Diagnosis</label>
      <input type="text" id="diagnosis" class="form-control" formControlName="diagnosis" placeholder="Enter diagnosis">
      <div class="text-danger mt-1" *ngIf = "f['diagnosis']?.touched && f['diagnosis']?.invalid">
        <small *ngIf = "f['diagnosis']?.errors?.['required']">Diagnosis is required.</small>
      </div>
    </div>

    <!-- Prescription -->
    <div class="mb-3">
      <label for="prescription" class="form-label">Prescription</label>
      <textarea id="prescription" class="form-control" formControlName="prescription" rows="2" placeholder="Enter prescription"></textarea>
    </div>

    <!-- Notes -->
    <div class="mb-3">
      <label for="notes" class="form-label">Notes</label>
      <textarea id="notes" class="form-control" formControlName="notes" rows="3" placeholder="Additional notes"></textarea>
    </div>

    <!-- Record Date -->
    <div class="mb-3">
      <label for="recordDate" class = "form-label"><span style="color:red">* </span> Record Date</label>
      <input type = "datetime-local" id = "recordDate" class = "form-control" formControlName = "recordDate" [min] = "today" [max] = "today" readonly>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary w-100" [disabled] = "medicalRecordForm.invalid">Save Record</button>

    <!-- Success & Error Messages -->
    <div *ngIf="successMessage" class="alert alert-success mt-3 text-center">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-center">
      {{ errorMessage }}
    </div>
  </form>
</div>
